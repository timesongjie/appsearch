<?xml version="1.0" encoding="utf-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:aop="http://www.springframework.org/schema/aop" xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans    
            http://www.springframework.org/schema/beans/spring-beans-3.0.xsd    
            http://www.springframework.org/schema/context    
            http://www.springframework.org/schema/context/spring-context-3.0.xsd    
            http://www.springframework.org/schema/aop    
            http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
            http://www.springframework.org/schema/tx
            http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
            "
	default-autowire="byName">
	<description>appsearch</description>
	
	<context:component-scan base-package="com.bbkmobile.iqoo"></context:component-scan>
	
	<!-- TRANSACTON -->
	<tx:annotation-driven transaction-manager="transactionManager"/>
	<bean id="transactionManager"
		class="org.springframework.orm.hibernate3.HibernateTransactionManager">
		<property name="sessionFactory" ref="sessionFactory" />
	</bean>
	
	<!-- ELASTIC SEARCH -->
	<bean name="esManager" class="com.bbkmobile.iqoo.service.elastic.ElasticSearchManager"
		destroy-method="close">
	</bean>
	
	<!-- REDIS -->
	<bean name="redisManager" class="com.bbkmobile.iqoo.cache.redis.RedisManager"
		destroy-method="destroy">
		<property name="cacheSwitch" value="true"/>
	</bean>
	
	<!-- REDIS MASTER -->
	<bean name="redisWriteManager" class="com.bbkmobile.iqoo.cache.redis.RedisWriteManager"
		destroy-method="destroy">
		<property name="ip" value="192.168.2.183"/>
		<property name="port" value="6379"/>
		<property name="cacheSwitch" value="true"/>
		<property name="searchKeyTTL" value="1800"/>
		<property name="appKeyTTL" value="72000"/>
	</bean>
	
	<!-- HIBERNATE -->
	<import resource="classpath:resources/hibernate.cfg.xml"/>	
	<!-- APPSTORE DAO -->
	<bean name="appInfoDao" class="com.bbkmobile.iqoo.dao.AppInfoDaoImpl"></bean>
	<bean name="systemPackageDao" class="com.bbkmobile.iqoo.dao.SystemPackageDaoImpl"></bean>
	<bean name="modelInfoDao" class="com.bbkmobile.iqoo.dao.ModelInfoDaoImpl"></bean>
	<bean name="sugRecDao" class="com.bbkmobile.iqoo.dao.sugrec.SugRecDaoImpl"></bean>
</beans>